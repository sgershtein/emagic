
  Encoding Magic Ver 1.0.1 by Sergey Gershtein for DOS
  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

  1. Что это такое?

  Текст на русском языке можент быть представлен в компьютере различными
  способами.  Эти способы представления называются кодировками.  Например,
  MS-DOS использует для русских букв кодировку code page 866 (866 кодовая
  страница, или, как ее еще называют, "альтернативная кодировка"); Microsoft
  Windows использует code page 1251 (кодовая страница 1251 или windows-1251);
  различные вырианты UNIX-ов используют либо КОИ-8 (восьмибитный Код Обмена
  Информацией), либо европейский стандарт представления русских букв
  ISO8859-5.

  С приходом в нашу жизнь сети Интернет ситуация только усугубилась. Тексты
  в сети можно найти в любой кодировке, сообщения электронной почты и
  телеконференций встречаются не только во всех мыслимых и немыслимых
  кодировках, но и ошибочно перекодированные из одной в другую (не ту).

  Скажем, если применить к тексту в KOI8 трансформацию windows-1251 -> cp866,
  то полученный результат уже нельзя будет прочитать нигде. Конечно, его
  можно восстановить, проведя обратную операцию, но для этого нужно знать,
  какую именно. Чаще всего, получив по электронной почте, некий текст вроде
  такого: "║═╥ВЧ ╒╚ БЗВВ╥╓╘ Р╧М╥═ ╘╓╬═╒Ч ╔МЧН ╫Б═╠ВЧ╚╩╙═╒ ╩ ╥╓╘╫НПЧ═Б═", Вы
  понятие не имеете, что для приведения его к читабельному виду следует
  произвести последовательно два преобразования: cp866->windows-1251 и
  KOI8 -> windows-1251

  Вот тут-то Вам и пригодится EMAGIC.  Эта программа автоматически определит
  и проведет необходимые перекодировки исходного текста, приведя его к
  читабельному виду.  Причем, какая именно кодировка считается базовой,
  можно определить при компиляции EMAGIC.  Прилагаемый к настоящему архиву
  файл EMAGIC.EXE перекодирует файлы к базовой кодировке cp866.  Вы можете
  закачать исходные тексты программы с FTP-сервера
  ftp://ftp.mplik.ru/pub/unix/utils/emagic_1.0.1.tgz и скомпилировать их
  для другой базовой кодировки.


  2. Неограниченные возможности и возможные ограничения.

  Emagic определяет необходимую последовательность перекодирований следующим
  образом.  Осуществляется перебор всех вариантов до N последовательных
  перекодирований (по умолчанию N=2, можно указать другое значение) и
  определяется, насколько полученный вариант близок к тексту на русском
  языке. Учитываются частоты букв, некоторые типичные слова и т.п.
  Такая методика позволяет определить правильную последовательность
  перекодирований практически всегда, даже для очень коротких текстов длиной
  в одно предложение.

  Разумеется, все это не работает для текстов не на русском языке (скажем,
  на украинском, болгарском). Увы. Другой проблемой является текст, разные
  части которого написаны в разных кодировках.  Такой текст может полностью
  сбить EMAGIC с понталыку.

  ВНИМАНИЕ!
  НИ ТЕКСТ НАСТОЯЩЕГО ДОКУМЕНТА, НИ ВЫВОД ПРОГРАММЫ НЕ СЛЕДУЕТ ВОСПРИНИМАТЬ
  КАК ГАРАНТИЙНОЕ ОБЯЗАТЕЛЬСТВО. EMAGIC ЯВЛЯЕТСЯ БЕСПЛАТНОЙ ПРОГРАММОЙ И
  ПОСТАВЛЯЕТСЯ БЕЗ КАКОЙ БЫ ТО НИ БЫЛО ГАРАНТИИ. ИСПОЛЬЗУЙТЕ EMAGIC ТОЛЬКО
  НА СВОЙ СТРАХ И РИСК. АВТОР EMAGIC НЕ НЕСЕТ ОТВЕТСТВЕННОСТИ ЗА ВОЗМОЖНУЮ
  НЕВЕРНУЮ РАБОТУ ПРОГРАММУ, ВНЕ ЗАВИСИМОСТИ ОТ ТОГО, КАКИЕ ПОСЛЕДСТВИЯ ЭТО
  ВАМ ПРИЧИНИЛО ИЛИ МОГЛО ПРИЧИНИТЬ!  СМ. ФАЙЛ COPYING.TXT, ТАМ ВСЕ РАСПИСАНО
  ПОДРОБНЕЕ.

  3. О копировании и авторских правах.

  ДА!  Копировать программу МОЖНО.  Исходные тексты тоступны для всех на
  FTP: ftp://ftp.mplik.ru/pub/unix/utils/emagic_1.0.1.tgz

  В архиве лежит стандартная лицензия GNU (GNU General Public License), в
  соответствии с которой разрешается копирование и распространение EMAGIC.
  Было бы неплохо, если бы Вы с ней ознакомились.

  Автором программы являюсь я - Сергей Герштейн (sg@mplik.ru). Если Вы
  будете использовать EMAGIC полностью или частично в своих продуктах,
  я был бы Вам благодерен, если бы Вы сделали соответствующую сслыку на
  EMAGIC и на меня.

  4. Как пользоваться.

  При запуске программы без параметров, на экран выдается информация по
  ее использованию.  Обычно Вам нужно будет просто указать в командной
  строке имена файлов для обработки:

  	emagic file1.txt file2.txt file3.txt

  В этом случае каждый файл будет отдельно обработан и переведен в базовую
  кодировку.  Если Вы хотите оставить исходные файлы без изменения, а
  результат работы поместить в отдельный файл, то синтаксис будет таким:

  	emagic -o result.txt file1.txt file2.txt file3.txt

  Дополнительно Вы можете указать максимальное количество последовательных
  перекодирований (по умолчанию 2, больше 4 указывать не рекомендую, разве
  что, если Вы собираетесь уходить на обед).  Для этого служит ключик -n.
  Если не хотите, чтобы на экран выдавались совершенные перекодирования, 
  добавьте ключик -q. Ключи можно группировать вместе, например:

  	emagic -qn3 -oresult.txt file1.txt file2.txt

  Ну и еще два ключика: -w показывает информацию об отсутствии гарантии (при
  этом никакой другой работы не производится), -v выводит на экран кучу
  отладочной информации и, скорее всего не итнересен для пользователя.

  Вот, кажется, и все.

  Если есть предложения и комментарии - пишите.
  
  

  
